{% extends 'base.html' %}
{% load static %}

{% block content %}

<div class="quiz-page-container">


  <!-- Left Pane: Main Quiz Content -->
  <div class="quiz-left-pane">

    
    <!-- Quiz Title and Basic Info -->
    <div class="quiz-header">
      <h1 class="quiz-title">{{ quiz.name }}</h1>
      <div class="quiz-participants">
        <div id="participantCounter">
          Participants: <span>--</span>
        </div>
      </div>

    </div>

    <!-- ADD: Intro container that shows up by default and disappears once quiz starts -->
    <div id="introContainer" class="intro-container" style="display: block;">
      <p>
        Get ready to test your knowledge! When you click "Start Quiz", we’ll load each question with a time limit. 
        Don’t let the clock run out!
      </p>
    </div>

    <!-- Start Button -->
    <button 
      id="startQuizBtn" 
      data-quiz-id="{{ quiz.id }}" 
      class="start-quiz-btn">
      Start Quiz
    </button>

    <!-- The Quiz Container (initially hidden) -->
    <div id="quizContainer" class="quiz-container" style="display: none;">
      <!-- Timer Display -->
      <!-- Current Question -->
      <div id="questionHeader" class="question-header">
        <h2 id="questionText" class="question-text">Question Goes Here</h2>
        <div id="timer" class="quiz-timer">
          Time left: <span>--</span> seconds
        </div>
      </div>
      
      <!-- User's Answer Input + Submit -->
      <div class="answer-area">
        <input 
          type="text" 
          id="answerInput" 
          placeholder="Type your answer..." 
          class="answer-input" />
        <button 
          id="submitAnswerBtn" 
          class="answer-submit-btn">
          Submit
        </button>
      </div>

    </div>

    <!-- The Results Container (shown after quiz ends) -->
    <div id="resultsContainer" class="results-container" style="display: none;">
      <h2>Results</h2>
      <p id="finalMessage"></p>
      <!-- You could add a "Restart Quiz" button or "View Another Quiz" link here if desired -->
    </div>
  </div>

  <div class="quiz-right-pane">
    <div class="leaderboard-container" style="padding-inline: 0rem;">
      <h2>{{ quiz.name }} Leaderboard</h2>
      <table class="leaderboard-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>User</th>
            <th>Points</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Alice</td>
            <td>1890</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Bob</td>
            <td>1720</td>
          </tr>
          <tr>
            <td>3</td>
            <td>Chris</td>
            <td>1680</td>
          </tr>
          <tr>
            <td>4</td>
            <td>Dana</td>
            <td>1590</td>
          </tr>
          <tr>
            <td>5</td>
            <td>Edward</td>
            <td>1440</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Link to the existing quiz.js file -->
<script src="{% static 'js/quiz.js' %}"></script>

{% endblock %}
